import socket
import sys
import requests
import json

if len(sys.argv) < 2:
    print("Usage: " + sys.argv[0] + "+ url")
    sys.exit(1)

r = requests.get("https://"+sys.argv[1])
print("\nStatus code " + str(r.status_code))
print("\n" + str(r.headers))


hostname = socket.gethostbyname(sys.argv[1])
print("\n" + "The IP address of domain is: " + hostname)

req = requests.get("https://ipinfo.io/"+hostname+"/json")
parse = json.loads(req.text)

print("\nLocation: " + parse["loc"])
print("City : " + parse["city"])
print("timezone : " + parse["timezone"])
print("hostname : " + parse["hostname"])
